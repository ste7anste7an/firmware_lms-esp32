<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>LMS-ESP32 Installer</title>
    <meta
      name="description"
      content="Easily allow users to install the LMS-ESP32 module with different firmware versions."
    />
    <meta name="viewport" content="width=device-width" />
    <meta name="color-scheme" content="dark light" />

    <link rel="stylesheet" href="styles.css" />
    <script type="module" src="./install-button.js"></script>
  </head>

  <body>
    <div class="content">
      <h1>LMS-ESP32 Installer</h1>
    
      <p class="button-row" align="center">
        <esp-web-install-button class="invisible"></esp-web-install-button>
      </p>


      <div class="section">
        <h2>MicroBlocks Firmware</h2>
        <ul class="radios">
          <li>
            <label>
              <input type="radio" name="type" value="MicroBlocks_ft7789" />
              MicroBlocks v346 for LMS-ESP32 with LVGL for LMS-TFT (20250903)
            </label>
          </li>
          <li>
            <label>
              <input type="radio" name="type" value="MicroBlocks_ili9341" />
              MicroBlocks v346 for LMS-ESP32 with LVGL for ILI9341 (20250903)
            </label>
          </li>
        </ul>
       <p>
          See
          <a href="https://microblocks.fun/">MicroBlocks website</a> for more
          information and
          <a href="https://github.com/ste7anste7an/micropup">
            MicroPup GitHub
          </a>
          for the MicroPUP library to communicate with LEGO hubs.
        </p>
      </div>

      <div class="section">
        <h2>MicroPython Firmware</h2>
        <ul class="radios">
          <li>
            <label>
              <input type="radio" name="type" value="MicroPython_1.25" />
              MicroPython v1.25.0 with lvgl 9.3+uartremote+pupremote (20250830)
            </label>
          </li>
          <li>
            <label>
              <input type="radio" name="type" value="MicroPython_1.24" />
              Legacy MicroPython v1.24.1 with uartremote+pupremote (20250617)
            </label>
          </li>          <li>
            <label>
              <input type="radio" name="type" value="MicroPython" />
              Legacy MicroPython v1.19.1 with lvgl 8.3 +ulab+uartremote+pupremote (20240825)
            </label>
          </li>
        </ul>
      </div>

      <div class="section">
        <h2>BluePad Firmware</h2>
        <ul class="radios">
          <li>
            <label>
              <input type="radio" name="type" value="bluepad32_UartRemote" />
              BluePad32 UartRemote for LMS MicroPython projects (20250104)
            </label>
          </li>
          <li>
            <label>
              <input type="radio" name="type" value="bluepad32_lpf2" />
              BluePad32 LPF2 for Spike3 and Pybricks (20250302)
            </label>
          </li>
        </ul>
        <p>
          For examples of BluePad32 or PUPRemote, see
          <a href="https://github.com/antonvh/PUPRemote">PUPRemote GitHub</a>.
        </p>
        <p>
          For source code of the BluePad32 firmware see
          <a href="https://github.com/ste7anste7an/bluepad32_arduino">
            Bluepad32 GitHub
          </a>.
        </p>
      </div>

      <div class="footer">
        <a href="https://www.antonsmindstorms.com/docs/">LMS-ESP32</a> â€”
        Installer powered by
        <a href="https://esphome.github.io/esp-web-tools/">ESP Web Tools</a>.
      </div>
    </div>
<script>
      document
        .querySelectorAll('input[name="type"]')
        .forEach((radio) =>
          radio.addEventListener("change", () => {
            const button = document.querySelector("esp-web-install-button");
            button.manifest = `./manifest_${radio.value}.json`;
            button.classList.remove("invisible");
          })
        );
    </script>
  </body>
</html>
